<app-navbar></app-navbar>
<main role="main" class="container">
  <div
    class="d-flex align-items-center p-3 my-3 rounded shadow-sm"
    data-toggle="modal"
    data-target="#profileModal"
  >
    <img
      class="mr-3"
      src="../../../assets/operadores.png"
      alt=""
      width="48"
      height="48"
    />
    <div class="lh-100">
      <h6 class="mb-0 lh-100">{{ company }}'s operators</h6>
      <small id="opnumber">Operators: {{ operators.length }} </small>
    </div>
  </div>
  <div id="userslist" class="my-3 p-3 bg-white rounded shadow-sm">
    <h6 class="border-bottom border-gray pb-2 mb-0">Users</h6>
    <div
      id="useritem"
      class="media text-muted pt-3"
      *ngFor="let item of operators"
    >
      <svg
        class="bd-placeholder-img mr-2 rounded"
        width="32"
        height="32"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="xMidYMid slice"
        focusable="false"
        role="img"
        aria-label="Placeholder: 32x32"
      >
        <rect width="100%" height="100%" fill="#007bff" />
      </svg>
      <div class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
        <div class="d-flex justify-content-between align-items-center w-100">
          <strong class="text-gray-dark item-user"> {{ item.name }}</strong>
          <a
            class="btn btn-sm btn-outline-info"
            *ngIf="!item.status"
            (click)="disableOp(item.id)"
            >Disable</a
          >
          <a
            class="btn btn-sm btn-outline-info"
            *ngIf="item.status"
            (click)="enableOp(item.id)"
            >Enable</a
          >
        </div>
        <span class="d-block"> {{ item.email }} </span>
      </div>
    </div>
    <a class="btn btn-outline-primary my-3" [swal]="swalop"> Create User</a>
    <swal #swalop (render)="createOp()"> </swal>
  </div>
  <div id="quetionlist" class="my-3 p-3 bg-white rounded shadow-sm">
    <h6 class="border-bottom border-gray pb-2 mb-0">Questionnaires</h6>
    <div
      id="Questionitem"
      class="media text-muted pt-3"
      *ngFor="let item of cuestionarios"
    >
      <svg
        class="bd-placeholder-img mr-2 rounded"
        width="32"
        height="32"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="xMidYMid slice"
        focusable="false"
        role="img"
        aria-label="Placeholder: 32x32"
      >
        <rect width="100%" height="100%" fill="#007bff" />
      </svg>
      <div class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
        <div class="d-flex justify-content-between align-items-center w-100">
          <strong class="text-gray-dark item-user"> {{ item.name }} </strong>
          <a class="btn btn-sm btn-outline-info" (click)="deleteQ(item.id)">
            Delete
          </a>
        </div>
        <span class="d-block"> {{ item.id }} </span>
      </div>
    </div>
    <a class="btn btn-outline-primary my-3" [swal]="swalQ">
      Create Questionary</a
    >
    <swal #swalQ (render)="createQ()"> </swal>
  </div>
  <div
    class="modal fade"
    id="profileModal"
    data-keyboard="false"
    tabindex="-1"
    role="dialog"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Profile</h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form method="post">
            <div class="row">
              <div class="col-md-6">
                <div class="profile-head">
                  <h5>
                    {{ company }}
                  </h5>
                  <h6>
                    Name of the company
                  </h6>
                  <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="home-tab"
                        data-toggle="tab"
                        href="#home"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true"
                        >About</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-8">
                <div class="tab-content profile-tab" id="myTabContent">
                  <div
                    class="tab-pane fade show active"
                    id="home"
                    role="tabpanel"
                    aria-labelledby="home-tab"
                  >
                    <div class="row">
                      <div class="col-md-6">
                        <label> Owner </label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ name }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label>Name</label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ company }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label>Email</label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ mail }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label> Document </label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ cc }}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>
